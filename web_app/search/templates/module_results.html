{% load filters %}
{% load search_tags %}
<script type="text/javascript" src="/static/javascripts/jquery.tablesorter.min.js"></script>
<script type="text/javascript" src="/static/javascripts/jquery.tablesorter.pager.js"></script>
<script>
    $(document).ready(function() {
                      $("#module-search-results")
                      .tablesorter({widthFixed: true, widgets: ['zebra']})
                      {#.tablesorterPager({container: $("#tablepager")})#};
                      });
    </script>

<div id="results">
<div class="filter-display">
  <h3>Filters</h3>
  {% for key, value in filter_pairs %}
    <div style="margin-left: 1em; color: red">{{key}} = {{value}}</div>
  {% endfor %}
<div></div>
  <h3>Modules matching to your query</h3>
<div></div>
{% for species, modules in mresults.items %}
</div>
<h2><b>Organism:</b> {{species_names|lookup:species}}</h2>
<table id="module-search-results">
  <tr><th>k</th><th>residual</th><th>Motif 1 e-value</th><th>Motif 2 e-value</th></tr>
  {% for k, module in modules.items %}
  <tr>
    <td>{{species|searchmodule_link:k}}</td>
    <td>{{module.residual}}</td>
    <td>{{ module.motif1_evalue }}</td>
    <td>{{ module.motif2_evalue }}</td>
  </tr>
  {% endfor %}
</table>
{% endfor %}
</div>
